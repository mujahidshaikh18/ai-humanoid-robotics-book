"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[317],{108:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var s=n(4848),a=n(8453);const i={sidebar_position:3,title:"Chapter 3: Building ROS 2 Packages in Python"},t="Building ROS 2 Packages in Python",o={id:"module-1/chapter-3",title:"Chapter 3: Building ROS 2 Packages in Python",description:"Overview",source:"@site/docs/module-1/chapter-3.mdx",sourceDirName:"module-1",slug:"/module-1/chapter-3",permalink:"/ai-humanoid-robotics-book/docs/module-1/chapter-3",draft:!1,unlisted:!1,editUrl:"https://github.com/mujahidshaikh18/ai-humanoid-robotics-book/tree/main/docs/module-1/chapter-3.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Chapter 3: Building ROS 2 Packages in Python"},sidebar:"tutorialSidebar",previous:{title:"Chapter 2: ROS 2 Core Architecture",permalink:"/ai-humanoid-robotics-book/docs/module-1/chapter-2"},next:{title:"Chapter 4: URDF & Humanoid Robot Description",permalink:"/ai-humanoid-robotics-book/docs/module-1/chapter-4"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"ROS 2 Package Structure",id:"ros-2-package-structure",level:2},{value:"Creating a New Package",id:"creating-a-new-package",level:3},{value:"Package Configuration",id:"package-configuration",level:2},{value:"package.xml",id:"packagexml",level:3},{value:"setup.py",id:"setuppy",level:3},{value:"Creating Nodes in Python",id:"creating-nodes-in-python",level:2},{value:"Basic Node Structure",id:"basic-node-structure",level:3},{value:"Publisher Example",id:"publisher-example",level:3},{value:"Subscriber Example",id:"subscriber-example",level:3},{value:"Working with Messages",id:"working-with-messages",level:2},{value:"Custom Messages",id:"custom-messages",level:3},{value:"Using Custom Messages",id:"using-custom-messages",level:3},{value:"Services in Python",id:"services-in-python",level:2},{value:"Creating a Service Server",id:"creating-a-service-server",level:3},{value:"Creating a Service Client",id:"creating-a-service-client",level:3},{value:"Actions in Python",id:"actions-in-python",level:2},{value:"Creating an Action Server",id:"creating-an-action-server",level:3},{value:"Parameters and Configuration",id:"parameters-and-configuration",level:2},{value:"Working with Parameters",id:"working-with-parameters",level:3},{value:"Logging and Debugging",id:"logging-and-debugging",level:2},{value:"Comprehensive Logging",id:"comprehensive-logging",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Node Organization",id:"node-organization",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{id:"building-ros-2-packages-in-python",children:"Building ROS 2 Packages in Python"}),"\n",(0,s.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(r.p,{children:"This chapter focuses on creating ROS 2 packages using Python, covering package structure, node development, message handling, and best practices for Python-based robotic applications."}),"\n",(0,s.jsx)(r.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(r.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Create and structure ROS 2 packages in Python"}),"\n",(0,s.jsx)(r.li,{children:"Develop nodes using the rclpy client library"}),"\n",(0,s.jsx)(r.li,{children:"Handle messages, services, and actions in Python"}),"\n",(0,s.jsx)(r.li,{children:"Implement parameter management and logging"}),"\n",(0,s.jsx)(r.li,{children:"Follow best practices for Python-based ROS 2 development"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"ros-2-package-structure",children:"ROS 2 Package Structure"}),"\n",(0,s.jsx)(r.p,{children:"A ROS 2 package in Python follows a specific directory structure:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"my_robot_package/\r\n\u251c\u2500\u2500 CMakeLists.txt          # Not needed for pure Python packages\r\n\u251c\u2500\u2500 package.xml             # Package manifest\r\n\u251c\u2500\u2500 setup.py                # Python package setup\r\n\u251c\u2500\u2500 setup.cfg               # Installation configuration\r\n\u251c\u2500\u2500 resource/               # Package resource files\r\n\u251c\u2500\u2500 test/                   # Test files\r\n\u2514\u2500\u2500 my_robot_package/       # Python module\r\n    \u251c\u2500\u2500 __init__.py\r\n    \u251c\u2500\u2500 my_node.py\r\n    \u2514\u2500\u2500 my_module.py\n"})}),"\n",(0,s.jsx)(r.h3,{id:"creating-a-new-package",children:"Creating a New Package"}),"\n",(0,s.jsx)(r.p,{children:"To create a new ROS 2 package for Python development:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_python my_robot_package\n"})}),"\n",(0,s.jsx)(r.p,{children:"This creates the basic structure with the necessary files for a Python package."}),"\n",(0,s.jsx)(r.h2,{id:"package-configuration",children:"Package Configuration"}),"\n",(0,s.jsx)(r.h3,{id:"packagexml",children:"package.xml"}),"\n",(0,s.jsx)(r.p,{children:"The package.xml file contains metadata about your package:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\r\n<package format="3">\r\n  <name>my_robot_package</name>\r\n  <version>0.0.0</version>\r\n  <description>Package for my robot functionality</description>\r\n  <maintainer email="user@example.com">Your Name</maintainer>\r\n  <license>Apache License 2.0</license>\r\n\r\n  <depend>rclpy</depend>\r\n  <depend>std_msgs</depend>\r\n  <depend>sensor_msgs</depend>\r\n\r\n  <test_depend>ament_copyright</test_depend>\r\n  <test_depend>ament_flake8</test_depend>\r\n  <test_depend>ament_pep257</test_depend>\r\n  <test_depend>python3-pytest</test_depend>\r\n\r\n  <export>\r\n    <build_type>ament_python</build_type>\r\n  </export>\r\n</package>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"setuppy",children:"setup.py"}),"\n",(0,s.jsx)(r.p,{children:"The setup.py file configures the Python package:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"from setuptools import setup\r\nimport os\r\nfrom glob import glob\r\n\r\npackage_name = 'my_robot_package'\r\n\r\nsetup(\r\n    name=package_name,\r\n    version='0.0.0',\r\n    packages=[package_name],\r\n    data_files=[\r\n        ('share/ament_index/resource_index/packages',\r\n            ['resource/' + package_name]),\r\n        ('share/' + package_name, ['package.xml']),\r\n        # Include all launch files\r\n        (os.path.join('share', package_name, 'launch'), glob('launch/*launch.[pxy][yma]*')),\r\n    ],\r\n    install_requires=['setuptools'],\r\n    zip_safe=True,\r\n    maintainer='Your Name',\r\n    maintainer_email='user@example.com',\r\n    description='Package for my robot functionality',\r\n    license='Apache License 2.0',\r\n    tests_require=['pytest'],\r\n    entry_points={\r\n        'console_scripts': [\r\n            'my_node = my_robot_package.my_node:main',\r\n            'another_node = my_robot_package.another_node:main',\r\n        ],\r\n    },\r\n)\n"})}),"\n",(0,s.jsx)(r.h2,{id:"creating-nodes-in-python",children:"Creating Nodes in Python"}),"\n",(0,s.jsx)(r.h3,{id:"basic-node-structure",children:"Basic Node Structure"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MyRobotNode(Node):\r\n    def __init__(self):\r\n        super().__init__('my_robot_node')\r\n        self.get_logger().info('My Robot Node has started')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = MyRobotNode()\r\n\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h3,{id:"publisher-example",children:"Publisher Example"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n\r\n        # Create publisher\r\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\r\n\r\n        # Create timer\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = 'Hello World: %d' % self.i\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\r\n        self.i += 1\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_publisher = MinimalPublisher()\r\n\r\n    try:\r\n        rclpy.spin(minimal_publisher)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_publisher.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h3,{id:"subscriber-example",children:"Subscriber Example"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalSubscriber(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'topic',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_subscriber = MinimalSubscriber()\r\n\r\n    try:\r\n        rclpy.spin(minimal_subscriber)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_subscriber.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h2,{id:"working-with-messages",children:"Working with Messages"}),"\n",(0,s.jsx)(r.h3,{id:"custom-messages",children:"Custom Messages"}),"\n",(0,s.jsx)(r.p,{children:"To create custom messages, you define them in .msg files in a msg directory:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"msg/\r\n\u251c\u2500\u2500 RobotPose.msg\r\n\u2514\u2500\u2500 SensorData.msg\n"})}),"\n",(0,s.jsx)(r.p,{children:"Example RobotPose.msg:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"float64 x\r\nfloat64 y\r\nfloat64 theta\r\nuint8 state\n"})}),"\n",(0,s.jsx)(r.p,{children:"Then reference them in your package.xml:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:"<build_depend>rosidl_default_generators</build_depend>\r\n<exec_depend>rosidl_default_runtime</exec_depend>\r\n<member_of_group>rosidl_interface_packages</member_of_group>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"using-custom-messages",children:"Using Custom Messages"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n# Import your custom message\r\nfrom my_robot_package.msg import RobotPose\r\n\r\nclass MessageNode(Node):\r\n    def __init__(self):\r\n        super().__init__('message_node')\r\n\r\n        # Publisher with custom message\r\n        self.publisher_ = self.create_publisher(RobotPose, 'robot_pose', 10)\r\n\r\n        # Subscriber with custom message\r\n        self.subscription = self.create_subscription(\r\n            RobotPose,\r\n            'robot_pose',\r\n            self.pose_callback,\r\n            10)\r\n\r\n        # Timer to publish custom message\r\n        self.timer = self.create_timer(1.0, self.publish_pose)\r\n        self.pose_counter = 0\r\n\r\n    def publish_pose(self):\r\n        msg = RobotPose()\r\n        msg.x = float(self.pose_counter)\r\n        msg.y = float(self.pose_counter * 2)\r\n        msg.theta = float(self.pose_counter * 0.1)\r\n        msg.state = 1\r\n        self.publisher_.publish(msg)\r\n        self.pose_counter += 1\r\n\r\n    def pose_callback(self, msg):\r\n        self.get_logger().info(f'Received pose: ({msg.x}, {msg.y}, {msg.theta})')\n"})}),"\n",(0,s.jsx)(r.h2,{id:"services-in-python",children:"Services in Python"}),"\n",(0,s.jsx)(r.h3,{id:"creating-a-service-server",children:"Creating a Service Server"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import AddTwoInts\r\n\r\nclass MinimalService(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_service')\r\n        self.srv = self.create_service(\r\n            AddTwoInts,\r\n            'add_two_ints',\r\n            self.add_two_ints_callback)\r\n\r\n    def add_two_ints_callback(self, request, response):\r\n        response.sum = request.a + request.b\r\n        self.get_logger().info(f'Returning {request.a} + {request.b} = {response.sum}')\r\n        return response\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_service = MinimalService()\r\n\r\n    try:\r\n        rclpy.spin(minimal_service)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_service.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h3,{id:"creating-a-service-client",children:"Creating a Service Client"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import AddTwoInts\r\n\r\nclass MinimalClientAsync(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_client_async')\r\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\r\n\r\n        while not self.cli.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info('Service not available, waiting again...')\r\n\r\n        self.req = AddTwoInts.Request()\r\n\r\n    def send_request(self, a, b):\r\n        self.req.a = a\r\n        self.req.b = b\r\n        self.future = self.cli.call_async(self.req)\r\n        rclpy.spin_until_future_complete(self, self.future)\r\n        return self.future.result()\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_client = MinimalClientAsync()\r\n    response = minimal_client.send_request(1, 2)\r\n    minimal_client.get_logger().info(f'Result: {response.sum}')\r\n    minimal_client.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h2,{id:"actions-in-python",children:"Actions in Python"}),"\n",(0,s.jsx)(r.h3,{id:"creating-an-action-server",children:"Creating an Action Server"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.action import ActionServer\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.action import Fibonacci\r\n\r\nclass FibonacciActionServer(Node):\r\n    def __init__(self):\r\n        super().__init__('fibonacci_action_server')\r\n        self._action_server = ActionServer(\r\n            self,\r\n            Fibonacci,\r\n            'fibonacci',\r\n            self.execute_callback)\r\n\r\n    def execute_callback(self, goal_handle):\r\n        self.get_logger().info('Executing goal...')\r\n\r\n        feedback_msg = Fibonacci.Feedback()\r\n        feedback_msg.sequence = [0, 1]\r\n\r\n        for i in range(1, goal_handle.request.order):\r\n            if goal_handle.is_cancel_requested:\r\n                goal_handle.canceled()\r\n                self.get_logger().info('Goal canceled')\r\n                result = Fibonacci.Result()\r\n                result.sequence = []\r\n                return result\r\n\r\n            feedback_msg.sequence.append(\r\n                feedback_msg.sequence[i] + feedback_msg.sequence[i-1])\r\n\r\n            self.get_logger().info(f'Feedback: {feedback_msg.sequence}')\r\n            goal_handle.publish_feedback(feedback_msg)\r\n\r\n        goal_handle.succeed()\r\n        result = Fibonacci.Result()\r\n        result.sequence = feedback_msg.sequence\r\n\r\n        self.get_logger().info(f'Result: {result.sequence}')\r\n        return result\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    fibonacci_action_server = FibonacciActionServer()\r\n\r\n    try:\r\n        rclpy.spin(fibonacci_action_server)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        fibonacci_action_server.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h2,{id:"parameters-and-configuration",children:"Parameters and Configuration"}),"\n",(0,s.jsx)(r.h3,{id:"working-with-parameters",children:"Working with Parameters"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom rcl_interfaces.msg import ParameterType\r\nfrom rclpy.parameter import Parameter\r\n\r\nclass ParameterNode(Node):\r\n    def __init__(self):\r\n        super().__init__('parameter_node')\r\n\r\n        # Declare parameters with default values\r\n        self.declare_parameter('robot_name', 'my_robot')\r\n        self.declare_parameter('max_velocity', 1.0)\r\n        self.declare_parameter('sensor_enabled', True)\r\n\r\n        # Get parameter values\r\n        self.robot_name = self.get_parameter('robot_name').value\r\n        self.max_velocity = self.get_parameter('max_velocity').value\r\n        self.sensor_enabled = self.get_parameter('sensor_enabled').value\r\n\r\n        self.get_logger().info(f'Robot name: {self.robot_name}')\r\n        self.get_logger().info(f'Max velocity: {self.max_velocity}')\r\n        self.get_logger().info(f'Sensor enabled: {self.sensor_enabled}')\r\n\r\n        # Set up parameter callback\r\n        self.add_on_set_parameters_callback(self.parameter_callback)\r\n\r\n    def parameter_callback(self, parameters):\r\n        from rcl_interfaces.msg import SetParametersResult\r\n        result = SetParametersResult()\r\n        result.successful = True\r\n\r\n        for param in parameters:\r\n            if param.name == 'max_velocity':\r\n                if param.value < 0.0:\r\n                    result.successful = False\r\n                    result.reason = 'Max velocity must be positive'\r\n                    break\r\n\r\n        return result\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    parameter_node = ParameterNode()\r\n\r\n    try:\r\n        rclpy.spin(parameter_node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        parameter_node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h2,{id:"logging-and-debugging",children:"Logging and Debugging"}),"\n",(0,s.jsx)(r.h3,{id:"comprehensive-logging",children:"Comprehensive Logging"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass LoggingNode(Node):\r\n    def __init__(self):\r\n        super().__init__('logging_node')\r\n\r\n        # Different log levels\r\n        self.get_logger().debug('This is a debug message')\r\n        self.get_logger().info('This is an info message')\r\n        self.get_logger().warn('This is a warning message')\r\n        self.get_logger().error('This is an error message')\r\n        self.get_logger().fatal('This is a fatal message')\r\n\r\n        # Log with variables\r\n        count = 42\r\n        self.get_logger().info(f'Counter value: {count}')\r\n\r\n        # Exception logging\r\n        try:\r\n            result = 10 / 0\r\n        except ZeroDivisionError as e:\r\n            self.get_logger().error(f'Division error: {str(e)}')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    logging_node = LoggingNode()\r\n\r\n    try:\r\n        rclpy.spin(logging_node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        logging_node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(r.h3,{id:"node-organization",children:"Node Organization"}),"\n",(0,s.jsx)(r.p,{children:"Organize your Python nodes with clear separation of concerns:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"# my_robot_package/my_robot_controller.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom geometry_msgs.msg import Twist\r\nfrom sensor_msgs.msg import LaserScan\r\n\r\nclass RobotController(Node):\r\n    def __init__(self):\r\n        super().__init__('robot_controller')\r\n\r\n        # Publishers\r\n        self.cmd_vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)\r\n\r\n        # Subscribers\r\n        self.scan_sub = self.create_subscription(\r\n            LaserScan, '/scan', self.scan_callback, 10)\r\n\r\n        # Parameters\r\n        self.declare_parameter('linear_speed', 0.5)\r\n        self.declare_parameter('angular_speed', 1.0)\r\n\r\n        # Timers\r\n        self.control_timer = self.create_timer(0.1, self.control_loop)\r\n\r\n        self.get_logger().info('Robot controller initialized')\r\n\r\n    def scan_callback(self, msg):\r\n        # Process laser scan data\r\n        pass\r\n\r\n    def control_loop(self):\r\n        # Implement control logic\r\n        pass\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    controller = RobotController()\r\n\r\n    try:\r\n        rclpy.spin(controller)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        controller.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(r.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(r.p,{children:"This chapter covered the fundamentals of building ROS 2 packages in Python, including package structure, node development, communication patterns, and best practices. You now have the foundation to create Python-based ROS 2 applications for your robotic systems."}),"\n",(0,s.jsx)(r.p,{children:"In the next chapter, we'll explore URDF and how to define humanoid robot descriptions."})]})}function p(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>o});var s=n(6540);const a={},i=s.createContext(a);function t(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);